<HTML>
<HEAD><TITLE>Blinker 4.0 Online Reference - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng29f80.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng2852a.html">[^^Up^^]</A>
<A HREF="ng2ab18.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
 <B>DosAllocSeg()                 Allocate extended memory block of up to 64 Kb.</B>
------------------------------------------------------------------------------

 <U>Function : <B>Allocate an extended memory block of up to 64 Kb.</B></U>

 <U>Syntax   : <B>USHORT BLXAPI DosAllocSeg(USHORT size, PSEL selector,</B></U>
            <B>USHORT flags);</B>

 <U>size       <B>Size of block in bytes (max=64kb).</B></U>

 <U>selector   <B>Pointer to an integer to receive the selector.</B></U>

 <U>flags      <B>Reserved (must be 0).</B></U>

 <U>Return   : <B>Selector for the extended memory block.</B></U>

 DosAllocSeg() allocates a memory block up to 64kb in size.

 Most high level languages provide a memory allocation function equivalent to
 this function, such as malloc() in C. These functions can be used instead of
 DosAllocSeg() to manage blocks of memory less than 64kb in size,
 particularly when minimum source code differences between real and protected
 mode are required.

 Use DosMemAvail() to find the amount of available memory that can be
 allocated using DosAllocSeg().

 Example :

    <B>#include &lt;stdlib.h&gt;</B>
    <B>#include &lt;stdio.h&gt;</B>
    <B>#include &lt;string.h&gt;</B>
    <B>#include &lt;blx286.h&gt;</B>
    <B>void main(void)</B>
    <B>{</B>
    <B>SEL         selector;</B>
    <B>/* Allocate a 4KB block */</B>
    <B>if (DosAllocSeg(4096, &amp;selector, 0) != 0)</B>
    <B>   {</B>
    <B>   printf("DosAllocSeg() failed\n");</B>
    <B>   exit(255);</B>
    <B>   }</B>
    <B>printf("4K block allocated at : %04X\n",selector);</B>
    <B>/* Free the block */</B>
    <B>DosFreeSeg(selector);</B>
    <B>}</B>
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng2c1d9.html">DosFreeSeg()</A>
<HR>
This page created by ng2html v1.05, the Norton guide to HTML conversion utility.
Written by <A HREF="http://www.acemake.com/hagbard">Dave Pearson</A>
<HR>
</BODY>
</HTML>
