<HTML>
<HEAD><TITLE>Blinker 4.0 Online Reference - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng295d5.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng2852a.html">[^^Up^^]</A>
<A HREF="ng2a549.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
 <B>DosAllocRealSeg()             Allocate conventional memory block.</B>
------------------------------------------------------------------------------

 <U>Function : <B>Allocate a conventional memory block.</B></U>

 <U>Syntax   : <B>USHORT BLXAPI DosAllocRealSeg(ULONG size,</B></U>
            <B>PUSHORT paragraph, PSEL selector);</B>

 <U>size       <B>Size of the block to allocate in bytes (Cannot be greater than 64</B></U>
            <B>Kb).</B>

 <U>paragraph  <B>Pointer to an integer to receive the real mode segment of the</B></U>
            <B>memory block.</B>

 <U>selector   <B>Pointer to an integer to receive the protected mode</B></U>
            <B>selector of the memory block.</B>

 <U>Return   : <B>The real mode paragraph address and the protected mode selector</B></U>
            <B>of the conventional memory block.</B>

 As this function returns both a real mode paragraph address and a protected
 mode pointer the allocated block can be addressed in either mode, and can
 therefore be useful in mixed-mode programming.

 Example:

    <B>#include &lt;stdlib.h&gt;</B>
    <B>#include &lt;stdio.h&gt;</B>
    <B>#include &lt;string.h&gt;</B>
    <B>#include &lt;blx286.h&gt;</B>
    <B>void main(void)</B>
    <B>{</B>
    <B>SEL         selector;</B>
    <B>USHORT      paragraph;</B>
    <B>/* Allocate a 16KB block */</B>
    <B>if (DosAllocRealSeg((16L &lt;&lt; 10), &amp;paragraph, &amp;selector) != 0)</B>
    <B>   {</B>
    <B>   printf("DosAllocRealSeg() failed\n");</B>
    <B>   exit(255);</B>
    <B>   }</B>
    <B>printf("Real segment: %04X prot selector: %04X\n",</B>
    <B>   paragraph,selector);</B>
    <B>/* Free the block */</B>
    <B>DosFreeRealSeg(selector);</B>
    <B>}</B>
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng2bc8a.html">DosFreeRealSeg()</A>
<HR>
This page created by ng2html v1.05, the Norton guide to HTML conversion utility.
Written by <A HREF="http://www.acemake.com/hagbard">Dave Pearson</A>
<HR>
</BODY>
</HTML>
