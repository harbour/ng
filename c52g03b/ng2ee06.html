<HTML>
<HEAD><TITLE>CA-Clipper 5.2 . Technical Reference - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng2e998.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng29720.html">[^^Up^^]</A>
<A HREF="ng2f5cf.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
 <B>_fsSeek()</B>
 Reposition the pointer within a file
------------------------------------------------------------------------------
 <B>C Prototype</B>

     <B>#include "filesys.api"</B>
     <B>ULONG _fsSeek(</B>
     <B>               FHANDLE hFileHandle,</B>
     <B>               LONG lOffset,</B>
     <B>               USHORT uiMode</B>
     <B>             )</B>

 <B>Arguments</B>

     <B>hFileHandle</B> is a valid DOS reference to the file to be repositioned.

     <B>lOffset</B> is the memory location to set the file pointer to.

     <B>uiMode</B> specifies the starting point for the seek.  The following
     constants are defined for uiMode:

     <B>File Mode Flags</B>
     ------------------------------------------------------------------------
     <B>Constant       Flag      Description</B>
     ------------------------------------------------------------------------
     FS_SET         0x0000    Seek from beginning of file
     FS_RELATIVE    0x0001    Seek from current file pointer
     FS_END         0x0002    Seek from end of file
     ------------------------------------------------------------------------

 <B>Returns</B>

     _fsSeek() returns the new file pointer position.

 <B>Description</B>

     This function repositions the file pointer in the file whose handle is
     specified by hFileHandle.  The file pointer is positioned based on
     lOffset and uiMode.  This function is equivalent to the CA-Clipper
     function FSEEK().  If an error occurs, _fsError() will return the number
     of the error.

 <B>Examples</B>

     <B>.</B>  The following example uses _fsSeek() to determine the size of
        a file by seeking to the end:

        #include "filesys.api"

        ULONG FileSize( BYTEP fpFileName )
        {

           FHANDLE hFile;
           ULONG ulSize = 0;

           hFile = _fsOpen( "Foo", FO_READWRITE | FO_EXCLUSIVE );

           // Check for an open error before using the file
           if (! _fsError() )
           {
              // Determine size by seeking to EOF
              ulSize = _fsSeek( hFile, 0, FS_END );

              _fsClose( hFile );
           }

           return (ulSize);
        }

 <B>Files:</B>  Library is CLIPPER.LIB, header file is Filesys.api.

</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng29916.html">_fsClose()</A>
<A HREF="ng2a198.html">_fsCreate()</A>
<A HREF="ng2ae2e.html">_fsError()</A>
<A HREF="ng2d62a.html">_fsOpen()</A>
<HR>
This page created by ng2html v1.05, the Norton guide to HTML conversion utility.
Written by <A HREF="http://www.acemake.com/hagbard">Dave Pearson</A>
<HR>
</BODY>
</HTML>
