<HTML>
<HEAD><TITLE>CA-Clipper 5.3 . Technical Reference - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng631f.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng11a0.html">[^^Up^^]</A>
<A HREF="ng743b.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
 <B>_xvlockcount()</B>
 Determine the number of locks on a VM segment
------------------------------------------------------------------------------
 <B>C Prototype</B>

     <B>#include "vm.api"</B>
     <B>USHORT _xvlockcount(</B>
     <B>                     HANDLE hSegment</B>
     <B>                   )</B>

 <B>Arguments</B>

     <B>hSegment</B> is the VM segment handle returned by _xvalloc().

 <B>Returns</B>

     _xvlockcount() returns the number of locks on the VM segment.

 <B>Description</B>

     _xvlockcount() returns the number of locks active on the VM segment.  If
     the lock count is zero, the segment is unlocked.

     You can also use _xvlockcount() on segment heaps.  Every locked block of
     allocated memory within the segment heap registers as one lock.

 <B>Examples</B>

     <B>.</B>  This example resizes a segment heap if it is not currently
        locked:

        // CA-Clipper include files
        #include "extend.api"
        #include "vm.api"

        // Prototype
        Boolean HeapResize(HANDLE hSegment, unsigned uiNewSize);


        Boolean HeapResize(HANDLE hSegment, unsigned uiNewSize)
        {
           Boolean bResult = FALSE;

           // Don't attempt to resize locked segment
           //
           if (_xvlockcount(hSegment) == 0)
              {
              if (_xvheapresize(hSegment, uiNewSize))
                 bResult = TRUE;
              }

           return (bResult);
        }

 <B>Files</B>  Library is CLIPPER.LIB, header file is Vm.api.

</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng3de4.html">_xvheaplock()</A>
<A HREF="ng631f.html">_xvlock()</A>
<A HREF="ng8264.html">_xvunlock()</A>
<A HREF="ng9350.html">_xvwire()</A>
<HR>
This page created by ng2html v1.05, the Norton guide to HTML conversion utility.
Written by <A HREF="http://www.acemake.com/hagbard">Dave Pearson</A>
<HR>
</BODY>
</HTML>
