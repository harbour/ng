<HTML>
<HEAD><TITLE>CA-Clipper 5.2e . Guide To CA-Clipper - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng25d80.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng3ca.html">[^^Up^^]</A>
<A HREF="ng26db7.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
 <B>DBSTRUCT()</B>
 Create an array containing the structure of a database file
------------------------------------------------------------------------------
 <B>Syntax</B>

     <B>DBSTRUCT() --&gt; aStruct</B>

 <B>Returns</B>

     DBSTRUCT() returns the structure of the current database file in an
     array whose length is equal to the number of fields in the database
     file.  Each element of the array is a subarray containing information
     for one field.  The subarrays have the following format:

     <B>DBSTRUCT() Return Array</B>
     ------------------------------------------------------------------------
     <B>Position     Metasymbol     Dbstruct.ch</B>
     ------------------------------------------------------------------------
     1            cName          DBS_NAME
     2            cType          DBS_TYPE
     3            nLength        DBS_LEN
     4            nDecimals      DBS_DEC
     ------------------------------------------------------------------------

     If there is no database file in USE in the current work area, DBSTRUCT()
     returns an empty array ({}).

 <B>Description</B>

     DBSTRUCT() is a database function that operates like COPY STRUCTURE
     EXTENDED by creating an array of structure information rather than a
     database file of structure information.  There is another function,
     DBCREATE(), that can create a database file from the structure array.

     By default, DBSTRUCT() operates on the currently selected work area.  It
     will operate on an unselected work area if you specify it as part of an
     aliased expression as shown below.

     Note, a header file, Dbstruct.ch, located in \CLIPPER5\INCLUDE contains
     a series of manifest constants for each field attribute.

 <B>Examples</B>

     <B>.</B>  This example opens two database files then creates an array
        containing the database structure using DBSTRUCT() within an aliased
        expression.  The field names are then listed using AEVAL():

        #include "Dbstruct.ch"
        //
        LOCAL aStruct
        USE Customer NEW
        USE Invoices NEW
        //
        aStruct := Customer-&gt;(DBSTRUCT())
        AEVAL( aStruct, {|aField| QOUT(aField[DBS_NAME])} )

 <B>Files:</B>  Library is CLIPPER.LIB, header file is Dbstruct.ch.
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng9b63.html">AFIELDS()*</A>
<A HREF="ng81b99.html">COPY STRU EXTE</A>
<HR>
This page created by ng2html v1.05, the Norton guide to HTML conversion utility.
Written by <A HREF="http://www.acemake.com/hagbard">Dave Pearson</A>
<HR>
</BODY>
</HTML>
