<HTML>
<HEAD><TITLE>CA-Clipper Tools . Books 1-3 - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng35e81.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng26a91.html">[^^Up^^]</A>
<A HREF="ng36f1d.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
 <B>COM_SETIRQ()</B>
 Changes the interrupt request for a port
------------------------------------------------------------------------------
 <B>Syntax</B>

     <B>COM_SETIRQ(&lt;nComPort&gt;,&lt;nIRQ|cIRQ&gt;) --&gt; lChanged</B>

 <B>Arguments</B>

     <B>&lt;nComPort&gt;</B>  Designates the port (1 to 4) where the interrupt request
     (IRQ) is set.

     <B>&lt;nIRQ|cIRQ&gt;</B>  Designates the new IRQ number for the selected port.
     This parameter can be a decimal or a hexadecimal string and can be from
     2 to 15.

 <B>Returns</B>

     The function returns .T. when the new IRQ has been successfully set.

 <B>Description</B>

     Unfortunately, there is not a binding standard for serial ports,
     particularly for COM3 and COM4.

     Each interface card uses an interrupt request line to advise the
     interrupt controller that a character has been received.  The controller
     then passes this information on to the CPU, which calls a service
     routine through the corresponding interrupt vector.  XT systems have
     eight such interrupt lines available.  AT systems have more than 16
     available interrupt lines, some of which are usually occupied with other
     peripherals.  The allocation of a new IRQ is no small matter and
     requires considerable technical expertise.  Determining which IRQ is
     available and is not currently in use can usually be done by studying
     the configuration of all external devices and the technical
     documentation that accompanies your computer system.  Typically IRQ's 0
     and 1 are used for internal purposes (timer), 2 and 9 for network
     adapters, 5 and 7 for the printer, and 6 and 14 for floppies or hard
     disks.

     <B>Tip: </B> As you will notice from the default setting in the
     Introduction to this chapter, it is possible for multiple ports to use
     the same IRQ (interrupt sharing).  While CA-Clipper Tools functions do
     support this process, standard port hardware usually does not.  However,
     special multiple port cards for this purpose are offered by a variety of
     manufacturers.

 <B>Notes</B>

     <B>.</B>  Please notice that the base settings that CA-Clipper Tools
        uses for COM1 to COM4 are described in the Introduction to this
        chapter.

     <B>.</B>  COM_SETIRQ() does not test to see if a port is actually
        serving the selected IRQ.

 <B>Examples</B>

     <B>.</B>  Set COM3 and COM4 to IRQ 5.  This example requires two calls:

        ? COM_SETIRQ(3, 5)            // .T.
        ? COM_SETIRQ(4, 5)            // .T.

     <B>.</B>  Set port 4 to IRQ 10. IRQ in hex:

        ? COM_SETIRQ(4, "A")          // .T.

     <B>.</B>  This is an example of an incorrect value for IRQ:

        ? COM_SETIRQ(2, 0)            // Timer tick not allowed  .F.
        ? COM_SETIRQ(3, "10")         // This would be decimal 16  .F.

</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng35e81.html">COM_SETIO()</A>
<A HREF="ng2e273.html">COM_GETIRQ()</A>
<A HREF="ng2de51.html">COM_GETIO()</A>
<HR>
This page created by ng2html v1.05, the Norton guide to HTML conversion utility.
Written by <A HREF="http://www.acemake.com/hagbard">Dave Pearson</A>
<HR>
</BODY>
</HTML>
